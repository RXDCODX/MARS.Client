import{r as i,j as e,u as b}from"./iframe-BjL-cKrh.js";import{u as T}from"./useSiteColors-C4fCSJVZ.js";import{u as N,c as C,B as P}from"./Button-FnY6RG2Q.js";import{A as _}from"./ActionButtons-CbS01Zyo.js";import{C as w}from"./ColorPresetCard-BHbAqu32.js";import{L as S}from"./LayoutCard-B7GpCJWI.js";import{M as v}from"./MetaPanel-BX9lVscU.js";import{P as g}from"./PlayerCard-DERajjfr.js";import{m as R,n as A,e as k,h as r}from"./scoreboardStore-SHNMYMIe.js";import{V as B}from"./VisibilityCard-bmefl7Nw.js";import{H as $}from"./index-D5MxPxIl.js";import{u as E}from"./chunk-QMGIS6GS-BuY84TCY.js";import{R as u}from"./Row-BokORiNB.js";const h=i.forwardRef(({bsPrefix:t,fluid:s=!1,as:a="div",className:m,...l},o)=>{const n=N(t,"container"),d=typeof s=="string"?`-${s}`:"-fluid";return e.jsx(a,{ref:o,...l,className:C(m,s?`${n}${d}`:n)})});h.displayName="Container";const I="_themeToggle_n5r65_1",V="_adminThemeToggle_n5r65_1",x={themeToggle:I,adminThemeToggle:V},j=({variant:t="default",size:s="sm"})=>{const{theme:a,toggleTheme:m}=b(),l=()=>t==="admin"?"outline-secondary":a==="light"?"outline-dark":"outline-light",o=()=>{switch(s){case"lg":return"lg";default:return"sm"}},n=()=>t==="admin"?x.adminThemeToggle:x.themeToggle;return e.jsx(P,{variant:l(),size:o(),onClick:m,className:n(),title:`Переключить на ${a==="light"?"темную":"светлую"} тему`,children:a==="light"?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"bi bi-moon-fill"}),e.jsx("span",{className:"ms-1 d-none d-sm-inline",children:"Темная"})]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"bi bi-sun-fill"}),e.jsx("span",{className:"ms-1 d-none d-sm-inline",children:"Светлая"})]})})};j.__docgenInfo={description:"",methods:[],displayName:"ThemeToggle",props:{variant:{defaultValue:{value:'"default"',computed:!1},required:!1},size:{defaultValue:{value:'"sm"',computed:!1},required:!1}}};const z="_adminPanel_1libf_1",q="_adminTitle_1libf_6",p={adminPanel:z,adminTitle:q},F=()=>{const t=T(),{swapPlayers:s}=R(),{handleReceiveState:a,reset:m}=A(),l=i.useRef(0),o=i.useCallback(c=>{const f=Date.now();if(f-l.current<100){console.log("Ignoring too frequent update");return}l.current=f,a(c)},[a]),n=k(c=>c._connection);i.useEffect(()=>{n.state===$.Connected&&(n.on("ReceiveState",o),n.on("StateUpdated",o))},[n,o]);const d=E();i.useEffect(()=>{typeof window<"u"&&window.innerWidth<768&&d("/scoreboard-admin")},[d]);const y=i.useCallback(async()=>{try{await s()}catch(c){console.error("Error swapping names:",c)}},[s]);return e.jsxs(h,{className:`py-4 admin-panel ${p.adminPanel}`,style:{backgroundColor:t.background.primary,color:t.text.primary},children:[e.jsxs(u,{className:"mb-4 align-items-center",children:[e.jsx(r,{xs:12,md:8,children:e.jsx("h2",{className:p.adminTitle,style:t.utils.getTextStyle("primary"),children:"Админ панель скорборда"})}),e.jsx(r,{xs:12,md:4,className:"d-flex justify-content-end",children:e.jsx(j,{variant:"admin",size:"md"})})]}),e.jsxs(u,{className:"mb-4",children:[e.jsx(r,{xs:12,md:6,lg:6,children:e.jsx(B,{})}),e.jsx(r,{xs:12,md:6,lg:6,children:e.jsx(v,{})})]}),e.jsx(S,{}),e.jsx(w,{}),e.jsxs(u,{className:"justify-content-center align-items-center g-4",children:[e.jsx(r,{xs:12,md:5,lg:4,className:"d-flex justify-content-center mb-3 mb-md-0",children:e.jsx(g,{playerIndex:1,label:"Player 1",accent:"#0dcaf0"})}),e.jsx(r,{xs:12,md:2,lg:2,className:"d-flex flex-column align-items-center justify-content-center gap-3 mb-3 mb-md-0 mx-2",children:e.jsx(_,{onSwapNames:y,onSwapPlayers:s,onReset:m})}),e.jsx(r,{xs:12,md:5,lg:4,className:"d-flex justify-content-center mb-3 mb-md-0",children:e.jsx(g,{playerIndex:2,label:"Player 2",accent:"#6610f2"})})]})]})},H=()=>e.jsx(F,{});H.__docgenInfo={description:"",methods:[],displayName:"AdminPanel"};export{H as A};
