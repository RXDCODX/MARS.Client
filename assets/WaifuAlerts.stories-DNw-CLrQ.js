import{j as o}from"./jsx-runtime-D_zvdyIk.js";import{a as Je,g as Qe,r as D}from"./iframe-zpiOQtGo.js";import{S as G,l as ne}from"./index-6iYvhkm2.js";import{S as Te}from"./index-TJs5-ECo.js";import{a as K}from"./animate.module-CI42XwLX.js";import{a as Ye,g as Be,u as Ze,c as ke}from"./index-B0qy4s_C.js";import{A as qe}from"./Announce-DzI9VPIE.js";function et(s){const r=[...s];for(let P=r.length-1;P>0;P--){const d=Math.floor(Math.random()*(P+1));[r[P],r[d]]=[r[d],r[P]]}return r}function ye(s){let r;return s.waifu.isAdded?r="ты добавил":s.waifu.isMerged?r="поженился с":r="тебе выпал(-а)",r+" "+s.waifu.name}function me(s){return s.waifu.anime?`из аниме ${s.waifu.anime}`:`из манги ${s.waifu.manga}`}const We=["Кстати","К слову","Между прочим","Кстати сказать","В самом деле","Во всяком случае","Фактически"];function tt(s){if(!s.waifuHusband||!s.waifu.isPrivated||!s.waifuHusband.whenPrivated)return"";const r=new Date(s.waifuHusband.whenPrivated),d=new Date().getTime()-r.getTime(),f={days:Math.floor(d/(1e3*60*60*24)),hours:Math.floor(d%(1e3*60*60*24)/(1e3*60*60)),minutes:Math.floor(d%(1e3*60*60)/(1e3*60)),seconds:Math.floor(d%(1e3*60)/1e3)};debugger;const _=rt(f,s.waifu),T=Ye(0,We.length-1);return` ${We[T]}, ${_}`}function rt(s,r){var e;const P=s.days,d=Math.floor(P/365);let f=P%365;const _=Math.floor(f/30);f%=30;const T=Math.floor(f/7);f%=7;const a=[d>0?`${d} ${$(d,"год","года","лет")}`:null,_>0?`${_} ${$(_,"месяц","месяца","месяцев")}`:null,T>0?`${T} ${$(T,"неделя","недели","недель")}`:null,f>0?`${f} ${$(f,"день","дня","дней")}`:null,s.hours>0?`${s.hours} ${$(s.hours,"час","часа","часов")}`:null,s.minutes>0?`${s.minutes} ${$(s.minutes,"минута","минуты","минут")}`:null,s.seconds>0?`${s.seconds} ${$(s.seconds,"секунда","секунды","секунд")}`:null].filter(Boolean),t=(e=r.anime)!=null&&e.trim()?" из аниме "+r.anime:" из манги "+r.manga;return`ты в браке с ${r.name}${t} уже ${a.join(", ")}!`}function $(s,r,P,d){s=Math.abs(s)%100;const f=s%10;return s>10&&s<20?d:f>1&&f<5?P:f===1?r:d}const nt="_baza_smtqg_13",B={baza:nt,"alert-box":"_alert-box_smtqg_23","roulette-name-text":"_roulette-name-text_smtqg_32","smooth-box":"_smooth-box_smtqg_43","merge-container":"_merge-container_smtqg_55","merge-text":"_merge-text_smtqg_69","merge-image":"_merge-image_smtqg_83"};var ae={exports:{}},st=ae.exports,Ce;function it(){return Ce||(Ce=1,function(s,r){(function(d,f){s.exports=f(Je())})(st,P=>(()=>{var d={"./src/components/PrizesWrapper/PrizesWrapper.css":(a,t,e)=>{e.r(t)},"./src/components/Wrapper/Wrapper.css":(a,t,e)=>{e.r(t)},"./src/designs/Regular/Regular.css":(a,t,e)=>{e.r(t)},"./src/components/PrizesWrapper/PrizesWrapper.tsx":(a,t,e)=>{e.r(t),e.d(t,{default:()=>c});var n=e("react"),i=e.n(n),g=e("./src/context/RouletteContext.tsx"),v=e("./src/utills/index.ts");e("./src/components/PrizesWrapper/PrizesWrapper.css");var h=function(E){var p=E.children,l=E.className,m=E.tagName,u=m===void 0?"div":m,x=E.style,O=(0,n.useContext)(g.default),I=O.type,W=O.options,j=O.start,U=O.prizeListClassName,A=W.withoutAnimation!==!0&&j!==!0,z=(0,v.classNames)("roulette-pro-prize-list",{"with-animation":A},[I],U,l);return i().createElement(u,{className:z,style:x},p)};const c=h},"./src/components/PrizesWrapper/index.ts":(a,t,e)=>{e.r(t),e.d(t,{default:()=>i});var n=e("./src/components/PrizesWrapper/PrizesWrapper.tsx");const i=n.default},"./src/components/Roulette/Roulette.tsx":(a,t,e)=>{e.r(t),e.d(t,{default:()=>m});var n=e("react"),i=e.n(n),g=e("./src/designs/Regular/index.ts"),v=e("./src/context/RouletteContext.tsx"),h=e("./src/components/Wrapper/index.ts"),c=e("./src/components/PrizesWrapper/index.ts"),E=e("./src/utills/index.ts"),p=e("./src/hooks/index.ts"),l=function(u){var x,O,I,W=u.topChildren,j=u.bottomChildren,U=u.designPlugin,A=u.prizeItemRenderFunction,z=u.prizes,F=u.defaultDesignOptions,J=F===void 0?{}:F,S=u.start,b=u.prizeIndex,X=u.spinningTime,Q=X===void 0?10:X,Y=u.transitionFunction,oe=Y===void 0?"cubic-bezier(0.0125, 0.1, 0.1, 1)":Y,pe=u.onPrizeDefined,Ke=pe===void 0?function(){}:pe,C=u.classes,H=u.soundWhileSpinning,ge=u.options,le=ge===void 0?{}:ge,ve=u.type,N=ve===void 0?"horizontal":ve,he=(0,n.useState)(0),Ee=he[0],Pe=he[1],k=(0,n.useRef)(),xe=(0,p.useAudio)(H??""),je=xe.start,_e=xe.stop,Re=le.stopInCenter,ue=(0,g.default)(J)({type:N}),w=typeof U!="function"?ue:U({type:N}),q=w.prizeItemWidth,ee=w.prizeItemHeight;(0,n.useEffect)(function(){if(k){var R=function(){var y=k.current.getBoundingClientRect(),L=y.width,M=y.height;switch(N){case"horizontal":return Pe(L);case"vertical":return Pe(M);default:console.error("Unknown roulette type ".concat(N))}};return R(),window.addEventListener("resize",R),function(){window.removeEventListener("resize",R)}}},[k,N]),(0,n.useEffect)(function(){if(S){H&&je();var R=setTimeout(function(){Ke(),H&&_e()},Q*1e3);return function(){clearTimeout(R),H&&_e()}}},[S,Q]);var $e=(0,n.useMemo)(function(){var R=N==="horizontal"?q:ee,y=(0,E.getPrizeOffset)(R,b,Ee/2),L=Re===!0?0:(0,E.getPrizeAdditionalOffset)(R);return y+L},[N,b,q,ee,Ee,Re]),be=function(){var R,y,L=function(){switch(N){case"horizontal":return"left";case"vertical":return"top";default:throw new Error("Type is unknown")}},M=L();return S===!1?(R={},R[M]="0",R.willChange=M,R):(y={transition:"all ".concat(Q,"s ").concat(oe," 0s")},y[M]="-".concat($e,"px"),y)},Xe=be(),Oe=(0,n.useCallback)(function(){return typeof A=="function"?A:typeof w.prizeItemRenderFunction=="function"?w.prizeItemRenderFunction:ue.prizeItemRenderFunction},[ue.prizeItemRenderFunction,w.prizeItemRenderFunction,A]),Z=(0,n.useMemo)(function(){var R,y=Oe(),L=(0,E.classNames)(C==null?void 0:C.prizeItem,(R=w.classes)===null||R===void 0?void 0:R.prizeItem);return z.map(function(M){return i().createElement("li",{key:M.id,className:L},y(M))})},[z,Oe,C==null?void 0:C.prizeItem,(x=w.classes)===null||x===void 0?void 0:x.prizeItem]);(0,n.useEffect)(function(){var R,y,L,M;if(Z.length!==0){for(var te=-1,re=-1,De=function(){te=-1,re=-1},de=0;de<Z.length;de+=1){var V=(M=(L=(y=(R=Z[de])===null||R===void 0?void 0:R.props)===null||y===void 0?void 0:y.children)===null||L===void 0?void 0:L.props)===null||M===void 0?void 0:M.style,ce=V==null?void 0:V.width,fe=V==null?void 0:V.height;if(te===-1&&re===-1){te=ce,re=fe;continue}if(!(te===ce&&re===fe)){(ce!==q||fe!==ee)&&console.error("One or more prize items have a different width or height than what is set in the designPlugin. Therefore, the roulette is incorrectly calculating the offset for the prize item index. Please check your `prizeItemRenderFunction`. All prize items must have the same width and height as set in the `prizeItemRenderFunction`"),console.error("One or more prize items have different width or height; therefore, the roulette is incorrectly calculating the offset for the prize item index. All prize items must have the same width and height. Please check your `prizeItemRenderFunction` or `designPlugin` options");break}}return De(),function(){De()}}},[Z,q,ee]);var Ae=(0,E.classNames)(C==null?void 0:C.wrapper,(O=w.classes)===null||O===void 0?void 0:O.wrapper),ze=(0,E.classNames)(C==null?void 0:C.prizeListWrapper,(I=w.classes)===null||I===void 0?void 0:I.prizeListWrapper),He=(0,n.useMemo)(function(){return{options:le,start:S,wrapperClassName:Ae,prizeListClassName:ze,type:N}},[le,S,N,ze,Ae]),Ve=i().createElement(n.Fragment,null,w.topChildren,W),Ge=i().createElement(n.Fragment,null,w.bottomChildren,j);return i().createElement(v.default.Provider,{value:He},i().createElement(h.default,{ref:k},Ve,i().createElement(c.default,{tagName:"ul",style:Xe},Z),Ge))};const m=l},"./src/components/Roulette/index.ts":(a,t,e)=>{e.r(t),e.d(t,{default:()=>i});var n=e("./src/components/Roulette/Roulette.tsx");const i=n.default},"./src/components/Wrapper/Wrapper.tsx":(a,t,e)=>{e.r(t),e.d(t,{default:()=>c});var n=e("react"),i=e.n(n),g=e("./src/utills/index.ts"),v=e("./src/context/RouletteContext.tsx");e("./src/components/Wrapper/Wrapper.css");var h=(0,n.forwardRef)(function(E,p){var l=E.children,m=E.className,u=(0,n.useContext)(v.default),x=(0,g.classNames)("roulette-pro-wrapper",u.wrapperClassName,m);return i().createElement("div",{className:x,ref:p},l)});h.displayName="Wrapper";const c=h},"./src/components/Wrapper/index.ts":(a,t,e)=>{e.r(t),e.d(t,{default:()=>i});var n=e("./src/components/Wrapper/Wrapper.tsx");const i=n.default},"./src/context/RouletteContext.tsx":(a,t,e)=>{e.r(t),e.d(t,{default:()=>g});var n=e("react"),i=(0,n.createContext)({});const g=i},"./src/designs/Regular/Regular.tsx":(a,t,e)=>{e.r(t),e.d(t,{default:()=>h});var n=e("react"),i=e.n(n);e("./src/designs/Regular/Regular.css");var g=function(c){var E=c.type,p=c.hideCenterDelimiter;return p!==!0?i().createElement("div",{"data-testid":"design-top",className:"roulette-pro-regular-design-top ".concat(E)}):null},v=function(c){var E=c.prizesWithText,p=c.hideCenterDelimiter;return function(l){var m=l.type,u=205,x=m==="vertical"?172:174,O=E===!0?234:x,I="roulette-pro-regular-design-prize-item-".concat(m);return{topChildren:i().createElement(g,{type:m,hideCenterDelimiter:p}),bottomChildren:null,prizeItemWidth:u,prizeItemHeight:O,prizeItemRenderFunction:function(W){var j=W.image,U=W.text,A=E===!0&&U!==void 0;return i().createElement("div",{className:"roulette-pro-regular-prize-item",style:{width:u,height:O}},i().createElement("div",{className:A===!0?"roulette-pro-regular-prize-item-wrapper":"roulette-pro-regular-prize-item-wrapper center"},i().createElement("div",{className:"roulette-pro-regular-image-wrapper"},i().createElement("img",{className:"roulette-pro-regular-prize-item-image",src:j,alt:A===!0?"prize item ".concat(U):"prize item"})),A===!0&&i().createElement("p",{className:"roulette-pro-regular-prize-item-text"},U)))},classes:{prizeItem:I}}}};const h=v},"./src/designs/Regular/index.ts":(a,t,e)=>{e.r(t),e.d(t,{default:()=>i});var n=e("./src/designs/Regular/Regular.tsx");const i=n.default},"./src/hooks/index.ts":(a,t,e)=>{e.r(t),e.d(t,{useAudio:()=>n.default});var n=e("./src/hooks/useAudio/index.ts")},"./src/hooks/useAudio/index.ts":(a,t,e)=>{e.r(t),e.d(t,{default:()=>i});var n=e("./src/hooks/useAudio/useAudio.ts");const i=n.default},"./src/hooks/useAudio/useAudio.ts":(a,t,e)=>{e.r(t),e.d(t,{default:()=>g});var n=e("react"),i=function(v){var h=(0,n.useState)(null),c=h[0],E=h[1],p=(0,n.useState)(!1),l=p[0],m=p[1];(0,n.useEffect)(function(){typeof window>"u"||typeof Audio>"u"||!v||E(new Audio(v))},[v]);var u=(0,n.useCallback)(function(){c&&(c.play(),m(!0))},[c]),x=(0,n.useCallback)(function(){c&&(c.pause(),c.currentTime=0,m(!1))},[c]);return(0,n.useEffect)(function(){return function(){m(!1)}},[]),(0,n.useEffect)(function(){if(c){var O=function(){x()};return c.addEventListener("ended",O),function(){c.removeEventListener("ended",O)}}},[c,x]),{isPlaying:l,start:u,stop:x}};const g=i},"./src/utills/classNames/classNames.ts":(a,t,e)=>{e.r(t),e.d(t,{default:()=>E});var n=function(p){return Array.isArray(p)},i=function(p){return p!==null&&n(p)===!1&&typeof p=="object"},g=function(p){return typeof p=="function"},v=function(p){return typeof p=="boolean"},h=function(p){return p.toString!==Object.prototype.toString},c=function(){for(var p=[],l=0;l<arguments.length;l++)p[l]=arguments[l];for(var m="",u=function(A,z){var F=v(A);!A||F===!0||(m+="".concat(z!==void 0?z:A," "))},x=function(A){var z=Object.entries(A),F=h(A);if(z.forEach(function(S){var b=S[0],X=S[1];if(X){var Q=g(X),Y=b==="toString";if(Q===!0&&Y===!1){var oe=X();u(oe,b);return}Y===!1&&(m+="".concat(b," "))}}),F===!0){var J=A.toString();u(J)}},O=function(A){A.forEach(function(z){if(!(!z||typeof z=="boolean")){var F=n(z),J=i(z);if(F===!0)return O(z);if(J===!0)return x(z);m+="".concat(z," ")}})},I=0;I<p.length;I+=1){var W=p[I],j=i(W),U=n(W);if(j===!0){x(W);continue}if(U===!0){O(W);continue}u(W)}return m.trim()};const E=c},"./src/utills/classNames/index.ts":(a,t,e)=>{e.r(t),e.d(t,{default:()=>i});var n=e("./src/utills/classNames/classNames.ts");const i=n.default},"./src/utills/getPrizeAdditionalOffset/getPrizeAdditionalOffset.ts":(a,t,e)=>{e.r(t),e.d(t,{default:()=>g});var n=e("./src/utills/getRandomIntInRange/index.ts"),i=function(v){var h=v/2,c=(0,n.default)(-h+1,h-1);return c};const g=i},"./src/utills/getPrizeAdditionalOffset/index.ts":(a,t,e)=>{e.r(t),e.d(t,{default:()=>i});var n=e("./src/utills/getPrizeAdditionalOffset/getPrizeAdditionalOffset.ts");const i=n.default},"./src/utills/getPrizeOffset/getPrizeOffset.ts":(a,t,e)=>{e.r(t),e.d(t,{default:()=>i});var n=function(g,v,h){return g*v-(h-g/2)};const i=n},"./src/utills/getPrizeOffset/index.ts":(a,t,e)=>{e.r(t),e.d(t,{default:()=>i});var n=e("./src/utills/getPrizeOffset/getPrizeOffset.ts");const i=n.default},"./src/utills/getRandomIntInRange/getRandomIntInRange.ts":(a,t,e)=>{e.r(t),e.d(t,{default:()=>i});var n=function(g,v){var h=Math.ceil(g),c=Math.floor(v);return Math.floor(Math.random()*(c-h+1)+h)};const i=n},"./src/utills/getRandomIntInRange/index.ts":(a,t,e)=>{e.r(t),e.d(t,{default:()=>i});var n=e("./src/utills/getRandomIntInRange/getRandomIntInRange.ts");const i=n.default},"./src/utills/index.ts":(a,t,e)=>{e.r(t),e.d(t,{classNames:()=>v.default,getPrizeAdditionalOffset:()=>g.default,getPrizeOffset:()=>n.default,getRandomIntInRange:()=>i.default});var n=e("./src/utills/getPrizeOffset/index.ts"),i=e("./src/utills/getRandomIntInRange/index.ts"),g=e("./src/utills/getPrizeAdditionalOffset/index.ts"),v=e("./src/utills/classNames/index.ts")},react:a=>{a.exports=P}},f={};function _(a){var t=f[a];if(t!==void 0)return t.exports;var e=f[a]={exports:{}};return d[a](e,e.exports,_),e.exports}_.n=a=>{var t=a&&a.__esModule?()=>a.default:()=>a;return _.d(t,{a:t}),t},_.d=(a,t)=>{for(var e in t)_.o(t,e)&&!_.o(a,e)&&Object.defineProperty(a,e,{enumerable:!0,get:t[e]})},_.o=(a,t)=>Object.prototype.hasOwnProperty.call(a,t),_.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var T={};return(()=>{/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/_.r(T),_.d(T,{default:()=>t});var a=_("./src/components/Roulette/index.ts");const t=a.default})(),T})())}(ae)),ae.exports}var at=it();const ot=Qe(at);function Fe({rouletteIndex:s,prizes:r,callback:P,name:d,color:f}){if(r.length===0)throw new Error("Prizes is empty");const[_,T]=D.useState(!1),a=D.useRef(null),t=D.useRef(null),[e,n]=D.useState(!1),[i]=D.useState(f||Be()),[g,v]=D.useState({width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyItems:"center",alignSelf:"center",animationDuration:"2.2s"});return o.jsxs("div",{ref:a,className:" "+K.animated+" "+K.fadeIn,onAnimationEnd:()=>{T(!0),n(!0)},style:g,children:[o.jsxs("div",{ref:t,className:B["smooth-box"],style:{width:"100%",margin:"0 auto",height:"100%",alignSelf:"center",position:"relative"},children:[e&&o.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",width:"4px",height:`${t.current.offsetHeight}px`,background:"orange",zIndex:10,transform:"translate(-50%, -50%)",visibility:e?"visible":"hidden"}}),o.jsx(ot,{start:_,prizes:r,prizeIndex:s,spinningTime:20,type:"horizontal",classes:{},options:{withoutAnimation:!0},defaultDesignOptions:{prizesWithText:!0,hideCenterDelimiter:!0},onPrizeDefined:()=>{n(!1);const h=a.current;h.onanimationend=()=>{P()},v(c=>({...c,animationDuration:"1.5s"})),h.className=" "+K.animated+" "+K.fadeOut}})]}),o.jsxs("div",{className:B["roulette-name-text"],children:[o.jsx("span",{children:"рулетка"}),o.jsx("span",{children:"для"}),o.jsx("span",{style:{color:i},children:d})]})]})}Fe.__docgenInfo={description:"",methods:[],displayName:"WaifuRoulette",props:{rouletteIndex:{required:!0,tsType:{name:"number"},description:""},prizes:{required:!0,tsType:{name:"Array",elements:[{name:"PrizeType"}],raw:"PrizeType[]"},description:""},callback:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},name:{required:!0,tsType:{name:"string"},description:""},color:{required:!1,tsType:{name:"string"},description:""}}};function lt(s,r){switch(r.type){case 0:return r.waifu?s.isWaifuShowing?{...s,messages:[...s.messages,r.waifu]}:{...s,messages:[...s.messages],currentMessage:r.waifu,isWaifuShowing:!0}:s;case 1:if(r.waifu===void 0)return{...s};if(s.messages.length>0){const d=s.messages.filter(f=>f.waifu.shikiId!==r.waifu.waifu.shikiId);if(d.length>0){const f=d[0];return{...s,messages:d,currentMessage:f,isWaifuShowing:!0}}return{...s,isWaifuShowing:!1,messages:d,currentMessage:void 0}}return{...s,messages:[],currentMessage:void 0,isWaifuShowing:!1};case 2:const P=ke(s.prizes??[],r.prizes??[],(d,f)=>d.id===f.id);return P.forEach(d=>{if(d.image){const f=new Image;f.src=d.image}}),{...s,prizes:[...s.prizes,...P]};case 3:return{...s,prizes:et(s.prizes??[])}}}function Se(){const s={messages:[],isWaifuShowing:!1,prizes:[]},[{currentMessage:r,prizes:P},d]=D.useReducer(lt,s),[f,_]=D.useState(!1),T=D.useRef(null),[a,t]=D.useState(!1),[e,n]=D.useState(-1),i=Ze(l=>l.sendMsgToPyrokxnezxz);G.useSignalREffect("waifuroll",(l,m,u,x)=>{g({waifu:l,displayName:m,waifuHusband:u,color:x})},[]),G.useSignalREffect("addnewwaifu",(l,m,u)=>{l.isAdded=!0,g({waifu:l,displayName:m,color:u})},[]),G.useSignalREffect("Mergewaifu",(l,m,u,x)=>{l.isMerged=!0;const O={waifu:l,displayName:m.name,waifuHusband:m,color:x,avatarUrl:u};g(O)},[]),G.useSignalREffect("UpdateWaifuPrizes",async l=>{d({type:2,prizes:l})},[]);function g(l){d({type:0,waifu:l})}function v(l){d({type:1,waifu:l})}function h(){d({type:3})}D.useEffect(()=>{if(r&&P){const l=P.findIndex(m=>m.id===r.waifu.shikiId);n(l)}},[P,r]),D.useEffect(()=>{r&&(r.waifu.isMerged||r.waifu.isAdded)&&t(!0)},[r]);const c=D.useCallback(()=>{G.invoke("MuteAll")},[]),E=D.useCallback(()=>{G.invoke("UnmuteSessions")},[]),p=D.useCallback(l=>{throw E(),v(l),Error("Failed to play audio")},[r]);return o.jsxs(o.Fragment,{children:[!f&&o.jsx(qe,{title:"WaifuRoll",callback:()=>_(!0)}),r&&!a&&e!==-1&&o.jsx(Fe,{callback:()=>{t(!0),n(-1)},rouletteIndex:e,prizes:P||[],name:r.displayName,color:r.color},r.waifu.shikiId),r&&a&&!r.waifu.isMerged&&o.jsxs("div",{id:r.waifu.shikiId,ref:T,className:B.baza+" "+K.bounceIn+" "+K.animated,children:[o.jsx("div",{className:B["alert-box"],children:o.jsx("img",{src:r.waifu.imageUrl,style:{height:"498px",width:"320px"},onLoad:()=>{setTimeout(()=>{T.current.onanimationend=()=>{v(r),n(-1),t(!1),h()},T.current.className=B.baza+" "+K.bounceOut+" "+K.animated},7e3),r.waifu.isAdded||i(`@${r.displayName}, ${ye(r)} ${me(r)}!${tt(r)}`)}})}),o.jsxs("div",{className:B["alert-box"],children:[o.jsx("span",{className:"text-shadow block-text",style:{color:"white"},children:o.jsx(ne.Textfit,{min:1,max:1500,forceSingleModeWidth:!0,children:r.displayName.toUpperCase()})}),o.jsx("span",{className:"text-shadow block-text",style:{color:"cornflowerblue"},children:o.jsx(ne.Textfit,{min:1,max:1500,forceSingleModeWidth:!0,children:ye(r)})}),o.jsx("span",{className:"text-shadow block-text",style:{color:"red"},children:o.jsx(ne.Textfit,{min:1,max:1500,forceSingleModeWidth:!0,children:me(r)})})]})]},r.waifu.shikiId),r&&a&&r.waifu.isMerged&&o.jsxs(o.Fragment,{children:[o.jsx(Te,{width:"100%",height:"100%",autorun:{speed:30,duration:20*1e3},decorateOptions:()=>({particleCount:2,angle:60,spread:55,origin:{x:0},colors:["#000000","#FF0000","#FFFFFF"]})}),o.jsx(Te,{width:"100%",height:"100%",autorun:{speed:30,duration:20*1e3},decorateOptions:()=>({particleCount:2,angle:120,spread:55,origin:{x:1},colors:["#000000","#FF0000","#FFFFFF"]})}),o.jsxs("div",{className:B["merge-container"],children:[o.jsx("div",{className:B["merge-image"],children:o.jsx("img",{src:r.avatarUrl})}),o.jsx("div",{className:B["merge-text"],children:o.jsxs(ne.Textfit,{style:{color:"white"},mode:"multi",min:1,max:2e3,children:["Поздравляем"," ",o.jsx("span",{style:{color:r.color},children:r.waifuHusband.name})," ","и"," ",o.jsxs("span",{style:{color:Be()},children:[r.waifu.name," "]})," ","из"," ",o.jsx("span",{style:{color:r.waifu.anime?"blue":"gold"},children:me(r)})," ","с свадьбой!"]})}),o.jsx("div",{className:B["merge-image"],children:o.jsx("img",{src:r.waifu.imageUrl})})]}),o.jsx("audio",{controls:!1,autoPlay:!0,onError:()=>p(r),onEnded:()=>{t(!0),n(-1),E(),v(r)},onCanPlay:l=>{var m,u;try{(m=l.currentTarget)==null||m.play()}catch{l.currentTarget.muted=!0,(u=l.currentTarget)==null||u.play()}},onCanPlayThrough:()=>c(),children:o.jsx("source",{src:"http://localhost:9155/Alerts/svadba.mp3"})},r.waifu.shikiId)]})]})}Se.__docgenInfo={description:"",methods:[],displayName:"WaifuAlerts"};const vt={title:"Waifu/WaifuAlerts",component:Se,parameters:{layout:"fullscreen",docs:{description:{component:"Система алертов для вайфу-рулетки с анимациями и рулеткой."}}},tags:["autodocs"],decorators:[s=>o.jsx("div",{style:{width:"100vw",height:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",position:"relative",overflow:"hidden"},children:o.jsx(s,{})})]},se={args:{}},ie={args:{},parameters:{docs:{description:{story:"Пустая система вайфу-алертов без активных событий."}}}};var Me,Ie,we;se.parameters={...se.parameters,docs:{...(Me=se.parameters)==null?void 0:Me.docs,source:{originalSource:`{
  args: {}
}`,...(we=(Ie=se.parameters)==null?void 0:Ie.docs)==null?void 0:we.source}}};var Le,Ue,Ne;ie.parameters={...ie.parameters,docs:{...(Le=ie.parameters)==null?void 0:Le.docs,source:{originalSource:`{
  args: {},
  parameters: {
    docs: {
      description: {
        story: 'Пустая система вайфу-алертов без активных событий.'
      }
    }
  }
}`,...(Ne=(Ue=ie.parameters)==null?void 0:Ue.docs)==null?void 0:Ne.source}}};const ht=["Default","Empty"];export{se as Default,ie as Empty,ht as __namedExportsOrder,vt as default};
