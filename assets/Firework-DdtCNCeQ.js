import{a as j,g as q,r as g,j as y}from"./iframe-DP1K2Eq5.js";import{r as S,a as T,S as F}from"./index-Dw71gUWx.js";import{u as x,f as M}from"./index-CBKuLTKt.js";var _={},l={},w={},k;function P(){if(k)return w;k=1,Object.defineProperty(w,"__esModule",{value:!0});function r(a,d){return Math.random()*(d-a)+a}return w.default=r,w}var E;function b(){if(E)return l;E=1;var r=l&&l.__extends||function(){var o=function(n,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,f){t.__proto__=f}||function(t,f){for(var c in f)Object.prototype.hasOwnProperty.call(f,c)&&(t[c]=f[c])},o(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),a=l&&l.__read||function(o,n){var e=typeof Symbol=="function"&&o[Symbol.iterator];if(!e)return o;var t=e.call(o),f,c=[],h;try{for(;(n===void 0||n-- >0)&&!(f=t.next()).done;)c.push(f.value)}catch(m){h={error:m}}finally{try{f&&!f.done&&(e=t.return)&&e.call(t)}finally{if(h)throw h.error}}return c},d=l&&l.__spreadArray||function(o,n,e){if(e||arguments.length===2)for(var t=0,f=n.length,c;t<f;t++)(c||!(t in n))&&(c||(c=Array.prototype.slice.call(n,0,t)),c[t]=n[t]);return o.concat(c||Array.prototype.slice.call(n))},i=l&&l.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(l,"__esModule",{value:!0});var u=i(S()),p=i(P()),s=function(o){r(n,o);function n(){var e=o.apply(this,d([],a(arguments),!1))||this;return e.tickAnimation=function(){e.confetti(e.decorateOptions({startVelocity:30,spread:360,ticks:60,zIndex:0,particleCount:150,origin:{x:(0,p.default)(.1,.3),y:Math.random()-.2}})),e.confetti(e.decorateOptions({startVelocity:30,spread:360,ticks:60,zIndex:0,particleCount:150,origin:{x:(0,p.default)(.7,.9),y:Math.random()-.2}}))},e}return n}(u.default);return l.default=s,l}var C;function A(){if(C)return _;C=1;var r=_&&_.__assign||function(){return r=Object.assign||function(s){for(var o,n=1,e=arguments.length;n<e;n++){o=arguments[n];for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&(s[t]=o[t])}return s},r.apply(this,arguments)},a=_&&_.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(_,"__esModule",{value:!0});var d=a(j()),i=a(T()),u=a(b());function p(s){return d.default.createElement(i.default,r({Conductor:u.default},s))}return _.default=p,_}var L=A();const R=q(L);function O(r,a){return Math.random()*(a-r)+r}function $({callback:r}){return g.useEffect(()=>{setTimeout(()=>r(),1e4)},[r]),y.jsxs(y.Fragment,{children:[y.jsx(F,{width:"100%",height:"100%",autorun:{speed:30,duration:1e4},decorateOptions:()=>({particleCount:2,angle:60,spread:55,origin:{x:0},colors:["#000000","#FF0000","#FFFFFF"]})}),y.jsx(F,{width:"100%",height:"100%",autorun:{speed:30,duration:1e4},decorateOptions:()=>({particleCount:2,angle:120,spread:55,origin:{x:1},colors:["#000000","#FF0000","#FFFFFF"]})})]})}$.__docgenInfo={description:"",methods:[],displayName:"Confettyv2",props:{callback:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};async function z(r){const{src:a,scalar:d=1}=r,i=1/d,u=new Image;u.src=a,await new Promise(I=>u.addEventListener("load",I));const p=10*d,s=r.x??0,o=r.y??0,n=r.width??u.naturalWidth,e=r.height??u.naturalHeight,t=0,f=0,c=p,h=p*e/n,m=new OffscreenCanvas(c,h),v=m.getContext("2d");return v==null||v.drawImage(u,s,o,n,e,t,f,c,h),{type:"bitmap",bitmap:m.transferToImageBitmap(),matrix:[i,0,0,i,-c*i/2,-h*i/2]}}async function H(r){return new Promise((a,d)=>{const i=new XMLHttpRequest;i.onload=function(){if(i.status===200){const u=new FileReader;u.onloadend=function(){u.result?a(u.result.toString()):d(new Error("Failed to read file"))},u.onerror=function(){d(new Error("Failed to read file"))},u.readAsDataURL(i.response)}else d(new Error(`Failed to load file: ${i.statusText}`))},i.onerror=function(){d(new Error("Failed to send request"))},i.open("GET",r),i.responseType="blob",i.send()})}const W=({input:r,scalar:a=10})=>{const[d,i]=g.useState([]),u=x(t=>t.parser),p=x(t=>t.parseToLink);if(!u||!p)return;const[s,o]=g.useState(M(r,u,p)),[n,e]=g.useState(null);return g.useEffect(()=>{s!=null&&s.length&&s.length>0&&s.forEach(async t=>{const f=await H(t),c=await z({src:f,scalar:a});i(h=>[...h,c])})},[s]),g.useEffect(()=>{d.length>0&&e(y.jsx(R,{width:"100%",height:"100%",autorun:{speed:3,duration:1e4},decorateOptions:()=>({startVelocity:30,spread:360,ticks:60,particleCount:30,shapes:d,scalar:a,origin:{x:O(0,1),y:O(0,1)}})}))},[d,a]),n};function V({callback:r}){return g.useEffect(()=>{setTimeout(()=>r(),1e4)},[r]),y.jsx(R,{width:"100%",height:"100%",autorun:{speed:3,duration:1e4}})}V.__docgenInfo={description:"",methods:[],displayName:"Firework",props:{callback:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};export{$ as C,V as F,W as a};
