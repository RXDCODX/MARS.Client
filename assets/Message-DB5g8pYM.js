import{r as a,j as t}from"./iframe-PHcFrRmL.js";import{a as c}from"./animate.module-CI42XwLX.js";import{u as l,p as y,a as N,r as m}from"./index-Dh_JeCgC.js";import{G as S}from"./GradientText-BKTq3OdN.js";const d={FRAMER_MOTION_SPRING:{MAX:800},CSS_FADE_IN_UP:1e3,JUMP_EFFECT:300,SAFETY_BUFFER:200},q=Math.max(d.FRAMER_MOTION_SPRING.MAX,d.CSS_FADE_IN_UP,d.JUMP_EFFECT)+d.SAFETY_BUFFER,G={type:"spring",stiffness:300,damping:30,scale:{duration:.3}},I={fadeInUp:{duration:"1s"}},P={behavior:"smooth",block:"end",inline:"nearest"},M="_container_1q1gy_1",F="_left_1q1gy_11",T="_right_1q1gy_26",E="_badges_1q1gy_38",R="_nickname_1q1gy_47",b="_linkStub_1q1gy_63",j="_role_1q1gy_70",s={container:M,left:F,right:T,badges:E,nickname:R,linkStub:b,role:j};function k(n){return n.isVip?"#e005b9":n.isBroadcaster?"#e10d00":n.isModerator?"#00ad03":"transparent"}function v({message:n,onRemove:u}){const[x,_]=a.useState(!0),p=l(e=>e.badges),i=l(e=>e.parser),r=l(e=>e.parseToLink),[f]=a.useState(()=>y(n.message)),g=k(n),o=a.useRef(null);return a.useEffect(()=>{setTimeout(()=>{o.current&&(o.current.onanimationend=()=>{_(!1)},o.current.className=s.container+" "+c.animated+" "+c.zoomOut)},30*1e3)},[u,n]),x&&t.jsxs("div",{ref:o,className:`${s.container} ${c.animated} ${c.fadeInUp}`,style:{animationDuration:I.fadeInUp.duration},children:[t.jsx("div",{className:s.left,style:{borderRadius:12,padding:"8px 16px"},children:t.jsxs("div",{className:s.role,style:{background:g??"white"},children:[t.jsx("div",{className:s.badges,children:N(p,n)}),t.jsx("div",{className:s.nickname,style:{color:n.colorHex??"white"},children:n.displayName})]})}),t.jsx("div",{className:s.right,children:f?.map(e=>{if(n.isBroadcaster||n.isVip||n.isModerator){if(e.type==="text"){const h=i&&r?m({text:e.content,parser:i,newParser:r}):e.content;return t.jsx(S,{speed:"very-fast",fontWeight:600,children:h},e.id)}return e.type==="image"?t.jsx("img",{src:e.content,alt:"image",style:{maxWidth:"120px",maxHeight:"120px",margin:"0 4px"}},e.id):e.type==="video"?t.jsx("video",{src:e.content,controls:!0,style:{maxWidth:"180px",maxHeight:"120px",margin:"0 4px"}},e.id):e.type==="link"?t.jsx("span",{className:s.linkStub,children:"ссылка"},e.id):null}else return e.type==="text"?t.jsx("span",{style:{color:"white"},children:i&&r?m({text:e.content,parser:i,newParser:r}):e.content},e.id):e.type==="image"?t.jsx("img",{src:e.content,alt:"image",style:{maxWidth:"120px",maxHeight:"120px",margin:"0 4px"}},e.id):e.type==="video"?t.jsx("video",{src:e.content,controls:!0,style:{maxWidth:"180px",maxHeight:"120px",margin:"0 4px"}},e.id):e.type==="link"?t.jsx("span",{className:s.linkStub,children:"ссылка"},e.id):null})})]})}v.__docgenInfo={description:"",methods:[],displayName:"Message",props:{message:{required:!0,tsType:{name:"ChatMessage"},description:""},onRemove:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};export{G as F,v as M,P as S,q as a};
