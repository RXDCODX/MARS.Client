# ‚úÖ –•–æ–¥ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

## üéØ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ (–§–∞–∑–∞ 1 - –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏)

### 1. ‚úÖ Lazy Loading –¥–ª—è –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü

**–§–∞–π–ª—ã:**

- `src/routes/config/mainSiteRoutes.tsx`
- `src/routes/config/obsComponentRoutes.tsx`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

- –í—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ç–µ–ø–µ—Ä—å –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- –î–æ–±–∞–≤–ª–µ–Ω `Suspense` —Å `PageLoader` –¥–ª—è –≤—Å–µ—Ö —Ä–æ—É—Ç–æ–≤
- –°–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞—á–∞–ª—å–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ **40-60%**

**–ü—Ä–∏–º–µ—Ä:**

```typescript
const WelcomePage = lazy(() => import("@/Site/Pages/WelcomePage"));

<Suspense fallback={<PageLoader />}>
  <WelcomePage />
</Suspense>
```

### 2. ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è Vite –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

**–§–∞–π–ª:** `vite.config.ts`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

- –î–æ–±–∞–≤–ª–µ–Ω `vite-plugin-compression` –¥–ª—è gzip —Å–∂–∞—Ç–∏—è
- –£–ª—É—á—à–µ–Ω–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ chunks (–¥–æ–±–∞–≤–ª–µ–Ω—ã twitch-vendor, icons-bootstrap)
- –í–∫–ª—é—á–µ–Ω–∞ minification —Å Terser
- –£–¥–∞–ª–µ–Ω–∏–µ `console.log` –≤ production
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ñ–∞–π–ª–æ–≤ (–æ—Ç–¥–µ–ª—å–Ω–∞—è –ø–∞–ø–∫–∞ –¥–ª—è SVG)

**–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:** –°–Ω–∏–∂–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ bundle –Ω–∞ **30-40%**

### 3. ‚úÖ Debounce –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≥—Ä–æ–º–∫–æ—Å—Ç—å—é

**–§–∞–π–ª:** `src/components/OBS_Components/SoundRequest/Player/hooks/useSoundRequestPlayer.ts`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `useDebounce` –∏–∑ `react-use`
- –ó–∞–¥–µ—Ä–∂–∫–∞ 500–º—Å –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI

**–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:** –°–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ API

---

## üìã –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ

### –§–∞–∑–∞ 2 (–í–∞–∂–Ω–æ - 3-5 –¥–Ω–µ–π)

#### 1. ‚è≥ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è SVG —Ñ–∞–π–ª–æ–≤ (255 —Ñ–∞–π–ª–æ–≤!)

**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–∞–∂–¥—ã–π SVG –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ

**–í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ—à–µ–Ω–∏—è:**

- **A)** –°–æ–∑–¥–∞—Ç—å SVG sprite (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- **B)** Inline SVG –¥–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö –∏–∫–æ–Ω–æ–∫
- **C)** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å icon font (bootstrap-icons —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è bootstrap-icons:**

```typescript
// –í–º–µ—Å—Ç–æ:
import { Play } from "lucide-react";

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
<i className="bi bi-play-fill" />
```

**–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:** –°–Ω–∏–∂–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ **200+**

#### 2. ‚è≥ –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ CSS –º–æ–¥—É–ª–µ–π

**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Å–≤–æ–π `.module.scss`

**–†–µ—à–µ–Ω–∏–µ:**

- –°–æ–∑–¥–∞—Ç—å `shared.module.scss` –¥–ª—è –æ–±—â–∏—Ö —Å—Ç–∏–ª–µ–π
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CSS-in-JS –¥–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –£–¥–∞–ª–∏—Ç—å –¥—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è —Å—Ç–∏–ª–∏

**–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:** –°–Ω–∏–∂–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ **30-50**

#### 3. ‚è≥ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

**–ü—Ä–æ–±–ª–µ–º–∞:** 321 .jpg —Ñ–∞–π–ª –Ω–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω

**–†–µ—à–µ–Ω–∏–µ:**

```bash
# –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ WebP
npx @squoosh/cli --webp auto -d ./src/assets/images ./src/assets/images

# –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
<img 
  src="image.webp" 
  loading="lazy"
  decoding="async"
  alt="..."
/>
```

**–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:** –°–Ω–∏–∂–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –Ω–∞ **25-35%**

#### 4. ‚è≥ Code Splitting –¥–ª—è —Ç—è–∂–µ–ª—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**

- `ServerViewer` (–±–æ–ª—å—à–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç)
- `FramedataPage` (—Ç–∞–±–ª–∏—Ü—ã —Å –¥–∞–Ω–Ω—ã–º–∏)
- `CinemaQueuePage` (–º–µ–¥–∏–∞ –∫–æ–Ω—Ç–µ–Ω—Ç)

**–ü—Ä–∏–º–µ—Ä:**

```typescript
const HeavyComponent = lazy(() => 
  import('./HeavyComponent').then(module => ({
    default: module.HeavyComponent
  }))
);
```

### –§–∞–∑–∞ 3 (–ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ - 1 –Ω–µ–¥–µ–ª—è)

#### 5. ‚è≥ Service Worker –¥–ª—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è

```bash
yarn add -D vite-plugin-pwa
```

#### 6. ‚è≥ Preloading –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤

–î–æ–±–∞–≤–∏—Ç—å –≤ `index.html`:

```html
<link rel="preload" href="/fonts/main.woff2" as="font" type="font/woff2" crossorigin />
<link rel="preload" href="/assets/critical.css" as="style" />
```

#### 7. ‚è≥ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è SignalR —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π

–û—Ç–∫—Ä—ã–≤–∞—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

---

## üìä –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ—Å–ª–µ –≤—Å–µ—Ö –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π

| –ú–µ—Ç—Ä–∏–∫–∞ | –ë—ã–ª–æ | –°—Ç–∞–ª–æ (–§–∞–∑–∞ 1) | –¶–µ–ª—å (–§–∞–∑–∞ 2-3) |
|---------|------|----------------|-----------------|
| –ó–∞–ø—Ä–æ—Å—ã | 228 | ~150-180 | **50-70** |
| –†–∞–∑–º–µ—Ä | 20MB | ~12-15MB | **5-8MB** |
| –í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ | 27s | ~15-18s | **3-5s** |
| First Contentful Paint | ? | ? | **<1.5s** |
| Time to Interactive | ? | ? | **<3s** |

---

## üß™ –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### 1. Chrome DevTools

```bash
# –û—Ç–∫—Ä—ã—Ç—å DevTools (F12)
# Network tab > Disable cache
# Reload page (Ctrl+R)
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å:
# - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤
# - –û–±—â–∏–π —Ä–∞–∑–º–µ—Ä
# - –í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏
```

### 2. Lighthouse

```bash
# Chrome DevTools > Lighthouse
# Run audit
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Performance score
```

### 3. Bundle Analyzer

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
yarn add -D rollup-plugin-visualizer

# –î–æ–±–∞–≤–∏—Ç—å –≤ vite.config.ts
import { visualizer } from 'rollup-plugin-visualizer';

export default defineConfig({
  plugins: [
    react(),
    visualizer({
      open: true,
      gzipSize: true,
      brotliSize: true,
    }),
  ],
});

# –ó–∞–ø—É—Å—Ç–∏—Ç—å build
yarn build
```

### 4. WebPageTest

```
https://www.webpagetest.org/
```

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—É—â–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:**

   ```bash
   cd MARS.Projects/mars.client
   yarn dev
   # –û—Ç–∫—Ä—ã—Ç—å http://localhost:44478
   # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Network tab
   ```

2. **–ó–∞–ø—É—Å—Ç–∏—Ç—å production build:**

   ```bash
   yarn build
   yarn preview
   # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑–º–µ—Ä bundle
   ```

3. **–ù–∞—á–∞—Ç—å –§–∞–∑—É 2:**
   - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è SVG (—Å–∞–º–æ–µ –≤–∞–∂–Ω–æ–µ!)
   - –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ CSS –º–æ–¥—É–ª–µ–π
   - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

4. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
   - –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
   - –°—Ä–∞–≤–Ω–∏–≤–∞—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –¥–æ/–ø–æ—Å–ª–µ
   - –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —É–ª—É—á—à–µ–Ω–∏—è

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã
- Lazy loading –º–æ–∂–µ—Ç –¥–æ–±–∞–≤–∏—Ç—å –Ω–µ–±–æ–ª—å—à—É—é –∑–∞–¥–µ—Ä–∂–∫—É –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –ø–µ—Ä–µ—Ö–æ–¥–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É
- Compression —Ç—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞ (nginx/apache)
- SVG optimization –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

---

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Vite Performance Optimization](https://vitejs.dev/guide/performance.html)
- [React Code Splitting](https://react.dev/reference/react/lazy)
- [Web.dev Performance](https://web.dev/performance/)
- [Chrome DevTools Network](https://developer.chrome.com/docs/devtools/network/)
